<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:jpa="http://www.springframework.org/schema/data/jpa" xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:task="http://www.springframework.org/schema/task" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
		http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.0.xsd
		http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
	   http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
	   http://www.springframework.org/schema/aop http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">
	   
	<context:annotation-config />
	<import resource="classpath:datasource-context.xml" />
	<import resource="classpath:activiti-context.xml" />
	<import resource="classpath:cache-context.xml" />
	<import resource="classpath:communicationGatewayClient-context.xml" />
	<import resource="classpath:jms-context.xml" />
	<import resource="classpath:mongodb-context.xml" />
	<import resource="classpath:aws-glacier-context.xml" />


	<context:component-scan base-package="com.oneassist.serviceplatform" />
	<context:component-scan base-package="com.spring.aop.aspects" />

	<!-- Spring Data Rest POC Related Config -->
	<context:component-scan base-package="com.spring.data.rest.config" />

	<jpa:repositories base-package="com.oneassist.serviceplatform.commons.repositories" />
	<mvc:annotation-driven />
	<aop:aspectj-autoproxy />
	<!-- <tx:annotation-driven transaction-manager="transactionManager" /> -->

	<bean id="customRepositoryImpl"
		class="com.oneassist.serviceplatform.commons.custom.CustomRepositoryImpl" />

	<bean id="serviceGetRequestCustomRepositoryImpl"
		class="com.oneassist.serviceplatform.commons.custom.ServiceGetRequestRepositoryImpl" />

	<bean id="shipmentService"
		class="com.oneassist.serviceplatform.services.shipment.ShipmentServiceImpl" />

	<bean id="allocationMasterService"
		class="com.oneassist.serviceplatform.services.allocation.AllocationMasterServiceImpl" />

	<bean id="pincodeService"
		class="com.oneassist.serviceplatform.services.pincode.PincodeServiceImpl" />

	<bean id="serviceRequestBreachService"
		class="com.oneassist.serviceplatform.services.servicerequest.ServiceRequestBreachServiceImpl" />

	<bean id="serviceRequestReportService"
		class="com.oneassist.serviceplatform.services.servicerequest.ServiceRequestReportServiceImpl" />

	<bean id="serviceRequestDocumentService"
		class="com.oneassist.serviceplatform.services.document.ServiceRequestDocumentServiceImpl" />

	<bean id="serviceRequestService"
		class="com.oneassist.serviceplatform.services.servicerequest.ServiceRequestServiceImpl" />

	<bean id="genericKeySetService"
		class="com.oneassist.serviceplatform.services.generickeyset.GenericKeySetServiceImpl" />

	<bean id="shipmentTrackingService"
		class="com.oneassist.serviceplatform.services.shipment.ShipmentTrackingServiceImpl" />


	<bean id="jdbcTemplate"
		class="org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate">
		<constructor-arg ref="dataSource" />

	</bean>

	<bean id="jpaVendorAdapter"
		class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
		<property name="showSql" value="true" />
		<property name="generateDdl" value="false" />
		<property name="database" value="ORACLE" />
	</bean>

	<bean id="entityManagerFactory"
		class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
		<property name="dataSource" ref="dataSource" />
		<property name="jpaVendorAdapter" ref="jpaVendorAdapter" />
		<!-- spring based scanning for entity classes> -->
		<property name="packagesToScan">
			<array>
				<value>com.oneassist.serviceplatform.commons.entities</value>
			</array>

		</property>
	</bean>
	<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager" />

	<bean id="messageSource" name="messageSource"
		class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
		<property name="basenames"
			value="classpath:errorcodes,classpath:responsecode,classpath:config, classpath:service_request_descryption" />
		<property name="useCodeAsDefaultMessage" value="false" />
		<property name="fileEncodings" value="UTF-8" />
		<property name="defaultEncoding" value="UTF-8" />
		<property name="cacheSeconds" value="-1" />
	</bean>

	<bean id="applicationProperties"
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="locations">
			<list>
				<value>classpath*:thirdpartyapi.properties</value>
				<value>classpath*:scheduler.properties</value>
				<value>classpath*:config.properties</value>
				<value>classpath*:service_request_descryption.properties</value>
				
			</list>
		</property>
		<property name="ignoreResourceNotFound" value="true" />
		<property name="ignoreUnresolvablePlaceholders" value="true" />
		<property name="systemPropertiesModeName" value="SYSTEM_PROPERTIES_MODE_OVERRIDE" />
	</bean>

	<bean id="logisticProviders" class="java.util.HashMap">
		<constructor-arg>
			<map key-type="java.lang.String"
				value-type="com.oneassist.serviceplatform.services.logisticpartner.services.ILogisticPartnerService">
				<entry key="Ecom" value-ref="ecomService" />
				<entry key="LOGINEXT" value-ref="loginextService" />
				<entry key="Fedex" value-ref="fedexService" />
				<entry key="DHL" value-ref="dhlService" />
			</map>

		</constructor-arg>
	</bean>
</beans>